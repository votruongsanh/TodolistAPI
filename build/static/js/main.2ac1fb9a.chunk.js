(this.webpackJsonpbaitapreact=this.webpackJsonpbaitapreact||[]).push([[0],{14:function(t,e,a){},33:function(t,e,a){},58:function(t,e,a){"use strict";a.r(e);var c=a(1),n=a(8),s=a.n(n),i=(a(33),a(5)),o=a(2),r=a(23),l=a(24),u=a(28),d=a(27),j=(a(14),a.p+"static/media/bgtodo.dfa77826.png"),b=a(3),m=a.n(b),f=a(0),O=(c.Component,a(7)),h=a(6),p=a(13),v=a.n(p),N=a(25),x="GET_TASK_API",k="SHOW_LOADING",g="HIDE_LOADING",y=function(){return function(){var t=Object(N.a)(v.a.mark((function t(e){var a,c;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e(T()),t.next=4,m()({url:"http://svcy.myclass.vn/api/ToDoList/GetAllTask",method:"GET"});case 4:a=t.sent,c=a.data,200===a.status&&(e({type:x,taskList:c}),e(L())),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0.response.data),e(L());case 14:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},T=function(){return function(t){t({type:k})}},L=function(){return function(t){t({type:g})}},_=a.p+"static/media/loading.6f75c712.gif";function D(){return Object(h.c)((function(t){return t.TodolistReducer})).loading?Object(f.jsx)("div",{className:"container",children:Object(f.jsx)("img",{src:_,alt:"loading",className:"imgLoading"})}):null}function C(){var t=Object(c.useState)({curTime:null}),e=Object(O.a)(t,2),a=e[0],n=e[1];return Object(c.useEffect)((function(){setInterval((function(){n({curTime:(new Date).toLocaleString()})}),1e3)}),[]),Object(f.jsx)("p",{style:{color:"chocolate"},children:a.curTime})}function E(t){var e=Object(h.c)((function(t){return t.TodolistReducer})).taskList,a=Object(h.b)(),n=Object(c.useState)({errors:{taskName:""},values:{taskName:""}}),s=Object(O.a)(n,2),r=s[0],l=s[1];Object(c.useEffect)((function(){a(y())}),[]);var u=function(t){var e;a((e=t,function(t){t(T());var a=m()({url:"http://svcy.myclass.vn/api/ToDoList/deleteTask?taskName=".concat(e),method:"DELETE"});a.then((function(e){t(y()),t(L())})),a.catch((function(e){console.log(e.response.data),t(L())}))}))},d=function(t){var e;a((e=t,function(t){t(T());var a=m()({url:"http://svcy.myclass.vn/api/ToDoList/doneTask?taskName=".concat(e),method:"PUT"});a.then((function(e){t(y()),t(L())})),a.catch((function(e){console.log(e.response.data),t(L())}))}))},b=function(t){var e;a((e=t,function(t){t(T());var a=m()({url:"http://svcy.myclass.vn/api/ToDoList/rejectTask?taskName=".concat(e),method:"PUT"});a.then((function(e){t(y()),t(L())})),a.catch((function(e){console.log(e.response.data),t(L())}))}))},p=function(t){var e;t.preventDefault(),console.log(r.values.taskName),""===r.values.taskName?alert("please type taskName !"):(a((e=r.values.taskName,function(t){return t(T()),m()({url:"http://svcy.myclass.vn/api/ToDoList/AddTask",method:"POST",data:{taskName:e}}).then((function(e){t(y()),t(L())})).catch((function(e){alert(e.response.data),t(L())}))})),r.values.taskName="")};return Object(f.jsxs)("form",{onSubmit:p,className:"card",children:[Object(f.jsx)("div",{className:"card__header",children:Object(f.jsx)("img",{src:j,alt:"todolist"})}),Object(f.jsx)("div",{className:"card__body",children:Object(f.jsxs)("div",{className:"card__content",children:[Object(f.jsxs)("div",{className:"card__title",children:[Object(f.jsx)("h2",{children:"My Tasks"}),Object(f.jsx)(C,{})]}),Object(f.jsxs)("div",{className:"card__add",children:[Object(f.jsx)("input",{name:"taskName",id:"newTask",value:r.values.taskName,onChange:function(t){var e=t.target,a=e.name,c=e.value,n=Object(o.a)({},r.values);n=Object(o.a)(Object(o.a)({},n),{},Object(i.a)({},a,c));var s=Object(o.a)({},r.errors);/^[a-z A-Z]+$/.test(c)&&""!==c.trim()?s[a]="":s[a]=a+" invalid !",l(Object(o.a)(Object(o.a)({},r),{},{values:n,errors:s}))},type:"text",placeholder:"Enter an activity..."}),Object(f.jsx)("button",{id:"addItem",type:"submit",onClick:p,children:Object(f.jsx)("i",{className:"fa fa-plus"})})]}),Object(f.jsx)("p",{style:{color:"#f44336"},children:r.errors.taskName}),Object(f.jsx)("div",{id:"notiInput",className:"alert-danger",style:{display:"none"}}),Object(f.jsxs)("div",{className:"card__todo",children:[Object(f.jsx)("ul",{className:"todo",id:"todo",children:e.filter((function(t){return!t.status})).map((function(t,e){return Object(f.jsxs)("li",{children:[Object(f.jsx)("span",{children:t.taskName}),Object(f.jsxs)("div",{className:"buttons",children:[Object(f.jsx)("button",{className:"remove",type:"button",onClick:function(){u(t.taskName)},children:Object(f.jsx)("i",{className:"fa fa-trash-alt"})}),Object(f.jsxs)("button",{className:"complete",type:"button",onClick:function(){d(t.taskName)},children:[Object(f.jsx)("i",{className:"far fa-check-circle"}),Object(f.jsx)("i",{className:"fas fa-check-circle"})]})]})]},e)}))}),Object(f.jsx)("ul",{className:"todo",id:"completed",children:e.filter((function(t){return t.status})).map((function(t,e){return Object(f.jsxs)("li",{children:[Object(f.jsx)("span",{children:t.taskName}),Object(f.jsxs)("div",{className:"buttons",children:[Object(f.jsx)("button",{className:"remove",type:"button",onClick:function(){u(t.taskName)},children:Object(f.jsx)("i",{className:"fa fa-trash-alt"})}),Object(f.jsxs)("button",{className:"complete",type:"button",onClick:function(){b(t.taskName)},children:[Object(f.jsx)("i",{className:"far fa-undo"}),Object(f.jsx)("i",{className:"fas fa-undo"})]})]})]},e)}))})]})]})}),Object(f.jsx)(D,{})]})}var I=function(){return Object(f.jsx)("div",{children:Object(f.jsx)(E,{})})},S=function(t){t&&t instanceof Function&&a.e(3).then(a.bind(null,59)).then((function(e){var a=e.getCLS,c=e.getFID,n=e.getFCP,s=e.getLCP,i=e.getTTFB;a(t),c(t),n(t),s(t),i(t)}))},w=a(9),A={taskList:[],loading:!1},P=a(26),G=Object(w.b)({TodolistReducer:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case x:return t.taskList=e.taskList,Object(o.a)({},t);case k:return Object(o.a)(Object(o.a)({},t),{},{loading:!0});case g:return Object(o.a)(Object(o.a)({},t),{},{loading:!1});default:return t}}}),F=Object(w.c)(G,Object(w.a)(P.a));s.a.render(Object(f.jsx)(h.a,{store:F,children:Object(f.jsx)(I,{})}),document.getElementById("root")),S()}},[[58,1,2]]]);
//# sourceMappingURL=main.2ac1fb9a.chunk.js.map